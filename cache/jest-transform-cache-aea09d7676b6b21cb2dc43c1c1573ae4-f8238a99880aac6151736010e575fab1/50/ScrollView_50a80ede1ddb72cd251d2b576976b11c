05f6e71c4066ff233f9c3ec1ed1fd525
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));

var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));

var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));

var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var AnimatedImplementation = require("../../Animated/src/AnimatedImplementation");

var Platform = require("../../Utilities/Platform");

var React = require('react');

var ReactNative = require("../../Renderer/shims/ReactNative");

require("../../Renderer/shims/ReactNative");

var ScrollResponder = require("../ScrollResponder");

var ScrollViewStickyHeader = require("./ScrollViewStickyHeader");

var StyleSheet = require("../../StyleSheet/StyleSheet");

var View = require("../View/View");

var dismissKeyboard = require("../../Utilities/dismissKeyboard");

var flattenStyle = require("../../StyleSheet/flattenStyle");

var invariant = require('invariant');

var processDecelerationRate = require("./processDecelerationRate");

var requireNativeComponent = require("../../ReactNative/requireNativeComponent");

var resolveAssetSource = require("../../Image/resolveAssetSource");

var splitLayoutProps = require("../../StyleSheet/splitLayoutProps");

var AndroidScrollView;
var AndroidHorizontalScrollContentView;
var AndroidHorizontalScrollView;
var RCTScrollView;
var RCTScrollContentView;

if (Platform.OS === 'android') {
  AndroidScrollView = _ScrollViewNativeComponent.default;
  AndroidHorizontalScrollView = _AndroidHorizontalScrollViewNativeComponent.default;
  AndroidHorizontalScrollContentView = _AndroidHorizontalScrollContentViewNativeComponent.default;
} else if (Platform.OS === 'ios') {
  RCTScrollView = _ScrollViewNativeComponent.default;
  RCTScrollContentView = _ScrollContentViewNativeComponent.default;
} else {
  RCTScrollView = requireNativeComponent('RCTScrollView');
  RCTScrollContentView = requireNativeComponent('RCTScrollContentView');
}

function createScrollResponder(node) {
  var scrollResponder = _objectSpread({}, ScrollResponder.Mixin);

  for (var _key in scrollResponder) {
    if (typeof scrollResponder[_key] === 'function') {
      scrollResponder[_key] = scrollResponder[_key].bind(node);
    }
  }

  return scrollResponder;
}

var Context = React.createContext(null);
var standardHorizontalContext = Object.freeze({
  horizontal: true
});
var standardVerticalContext = Object.freeze({
  horizontal: false
});

var ScrollView = function (_React$Component) {
  (0, _inherits2.default)(ScrollView, _React$Component);

  var _super = _createSuper(ScrollView);

  function ScrollView(props) {
    var _this;

    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _super.call(this, props);
    _this._scrollResponder = createScrollResponder((0, _assertThisInitialized2.default)(_this));
    _this._scrollAnimatedValue = new AnimatedImplementation.Value(0);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this.state = _objectSpread({
      layoutHeight: null
    }, ScrollResponder.Mixin.scrollResponderMixinGetInitialState());

    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && Platform.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }

      if (Platform.OS === 'android') {
        if (_this.props.keyboardDismissMode === 'on-drag' && _this.state.isTouching) {
          dismissKeyboard();
        }
      }

      _this._scrollResponder.scrollResponderHandleScroll(e);
    };

    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }

      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };

    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
          width = _e$nativeEvent$layout.width,
          height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };

    _this._scrollViewRef = null;

    _this._setScrollViewRef = function (ref) {
      _this._scrollViewRef = ref;
    };

    _this._innerViewRef = null;

    _this._setInnerViewRef = function (ref) {
      _this._innerViewRef = ref;
    };

    for (var _key2 in ScrollResponder.Mixin) {
      if (typeof ScrollResponder.Mixin[_key2] === 'function' && _key2.startsWith('scrollResponder')) {
        (0, _assertThisInitialized2.default)(_this)[_key2] = ScrollResponder.Mixin[_key2].bind((0, _assertThisInitialized2.default)(_this));
      }
    }

    Object.keys(ScrollResponder.Mixin).filter(function (key) {
      return typeof ScrollResponder.Mixin[key] !== 'function';
    }).forEach(function (key) {
      (0, _assertThisInitialized2.default)(_this)[key] = ScrollResponder.Mixin[key];
    });
    return _this;
  }

  (0, _createClass2.default)(ScrollView, [{
    key: "UNSAFE_componentWillMount",
    value: function UNSAFE_componentWillMount() {
      this._scrollResponder.UNSAFE_componentWillMount();

      this._scrollAnimatedValue = new AnimatedImplementation.Value(this.props.contentOffset ? this.props.contentOffset.y : 0);

      this._scrollAnimatedValue.setOffset(this.props.contentInset ? this.props.contentInset.top || 0 : 0);

      this._stickyHeaderRefs = new Map();
      this._headerLayoutYs = new Map();
    }
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function UNSAFE_componentWillReceiveProps(nextProps) {
      var currentContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      var nextContentInsetTop = nextProps.contentInset ? nextProps.contentInset.top : 0;

      if (currentContentInsetTop !== nextContentInsetTop) {
        this._scrollAnimatedValue.setOffset(nextContentInsetTop || 0);
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._scrollResponder.componentWillUnmount();

      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      this._scrollViewRef && this._scrollViewRef.setNativeProps(props);
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      return this;
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      return ReactNative.findNodeHandle(this._scrollViewRef);
    }
  }, {
    key: "getInnerViewNode",
    value: function getInnerViewNode() {
      return ReactNative.findNodeHandle(this._innerViewRef);
    }
  }, {
    key: "getInnerViewRef",
    value: function getInnerViewRef() {
      return this._innerViewRef;
    }
  }, {
    key: "getNativeScrollRef",
    value: function getNativeScrollRef() {
      return this._scrollViewRef;
    }
  }, {
    key: "scrollTo",
    value: function scrollTo(options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;

      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }

      this._scrollResponder.scrollResponderScrollTo({
        x: x || 0,
        y: y || 0,
        animated: animated !== false
      });
    }
  }, {
    key: "scrollToEnd",
    value: function scrollToEnd(options) {
      var animated = (options && options.animated) !== false;

      this._scrollResponder.scrollResponderScrollToEnd({
        animated: animated
      });
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      this._scrollResponder.scrollResponderFlashScrollIndicators();
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }

      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = AnimatedImplementation.attachNativeEvent(this._scrollViewRef, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;

      if (!stickyHeaderIndices) {
        return;
      }

      var childArray = React.Children.toArray(this.props.children);

      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }

      var layoutY = event.nativeEvent.layout.y;

      this._headerLayoutYs.set(key, layoutY);

      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];

      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));

        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var ScrollViewClass;
      var ScrollContentContainerViewClass;

      if (Platform.OS === 'android') {
        if (this.props.horizontal === true) {
          ScrollViewClass = AndroidHorizontalScrollView;
          ScrollContentContainerViewClass = AndroidHorizontalScrollContentView;
        } else {
          ScrollViewClass = AndroidScrollView;
          ScrollContentContainerViewClass = View;
        }
      } else {
        ScrollViewClass = RCTScrollView;
        ScrollContentContainerViewClass = RCTScrollContentView;
      }

      invariant(ScrollViewClass !== undefined, 'ScrollViewClass must not be undefined');
      invariant(ScrollContentContainerViewClass !== undefined, 'ScrollContentContainerViewClass must not be undefined');
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];

      if (__DEV__ && this.props.style !== undefined) {
        var style = flattenStyle(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        invariant(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }

      var contentSizeChangeProps = {};

      if (this.props.onContentSizeChange) {
        contentSizeChangeProps = {
          onLayout: this._handleContentOnLayout
        };
      }

      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;

      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;

          if (indexOfIndex > -1) {
            var _key3 = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || ScrollViewStickyHeader;
            return React.createElement(StickyHeaderComponent, {
              key: _key3,
              ref: function ref(_ref) {
                return _this2._setStickyHeaderRef(_key3, _ref);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, _key3);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              scrollViewHeight: _this2.state.layoutHeight
            }, child);
          } else {
            return child;
          }
        });
      }

      children = React.createElement(Context.Provider, {
        value: this.props.horizontal === true ? standardHorizontalContext : standardVerticalContext
      }, children);
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = React.createElement(ScrollContentContainerViewClass, (0, _extends2.default)({}, contentSizeChangeProps, {
        ref: this._setInnerViewRef,
        style: contentContainerStyle,
        removeClippedSubviews: Platform.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false
      }), children);
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var DEPRECATED_sendUpdatedChildFrames = !!this.props.DEPRECATED_sendUpdatedChildFrames;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;

      var props = _objectSpread(_objectSpread({}, this.props), {}, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: [baseStyle, this.props.style],
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._scrollResponder.scrollResponderHandleMomentumScrollBegin,
        onMomentumScrollEnd: this._scrollResponder.scrollResponderHandleMomentumScrollEnd,
        onResponderGrant: this._scrollResponder.scrollResponderHandleResponderGrant,
        onResponderReject: this._scrollResponder.scrollResponderHandleResponderReject,
        onResponderRelease: this._scrollResponder.scrollResponderHandleResponderRelease,
        onResponderTerminationRequest: this._scrollResponder.scrollResponderHandleTerminationRequest,
        onScrollBeginDrag: this._scrollResponder.scrollResponderHandleScrollBeginDrag,
        onScrollEndDrag: this._scrollResponder.scrollResponderHandleScrollEndDrag,
        onScrollShouldSetResponder: this._scrollResponder.scrollResponderHandleScrollShouldSetResponder,
        onStartShouldSetResponder: this._scrollResponder.scrollResponderHandleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._scrollResponder.scrollResponderHandleStartShouldSetResponderCapture,
        onTouchEnd: this._scrollResponder.scrollResponderHandleTouchEnd,
        onTouchMove: this._scrollResponder.scrollResponderHandleTouchMove,
        onTouchStart: this._scrollResponder.scrollResponderHandleTouchStart,
        onTouchCancel: this._scrollResponder.scrollResponderHandleTouchCancel,
        onScroll: this._handleScroll,
        scrollBarThumbImage: resolveAssetSource(this.props.scrollBarThumbImage),
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        DEPRECATED_sendUpdatedChildFrames: DEPRECATED_sendUpdatedChildFrames,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: Platform.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });

      var decelerationRate = this.props.decelerationRate;

      if (decelerationRate != null) {
        props.decelerationRate = processDecelerationRate(decelerationRate);
      }

      var refreshControl = this.props.refreshControl;

      if (refreshControl) {
        if (Platform.OS === 'ios') {
          return React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
            ref: this._setScrollViewRef
          }), Platform.isTV ? null : refreshControl, contentContainer);
        } else if (Platform.OS === 'android') {
          var _splitLayoutProps = splitLayoutProps(flattenStyle(props.style)),
              outer = _splitLayoutProps.outer,
              inner = _splitLayoutProps.inner;

          return React.cloneElement(refreshControl, {
            style: [baseStyle, outer]
          }, React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
            style: [baseStyle, inner],
            ref: this._setScrollViewRef
          }), contentContainer));
        }
      }

      return React.createElement(ScrollViewClass, (0, _extends2.default)({}, props, {
        ref: this._setScrollViewRef
      }), contentContainer);
    }
  }]);
  return ScrollView;
}(React.Component);

ScrollView.Context = Context;
var styles = StyleSheet.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
module.exports = ScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNjcm9sbFZpZXcuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsInJlcXVpcmUiLCJQbGF0Zm9ybSIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJTY3JvbGxSZXNwb25kZXIiLCJTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwiU3R5bGVTaGVldCIsIlZpZXciLCJkaXNtaXNzS2V5Ym9hcmQiLCJmbGF0dGVuU3R5bGUiLCJpbnZhcmlhbnQiLCJwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSIsInJlcXVpcmVOYXRpdmVDb21wb25lbnQiLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJzcGxpdExheW91dFByb3BzIiwiQW5kcm9pZFNjcm9sbFZpZXciLCJBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3IiwiUkNUU2Nyb2xsVmlldyIsIlJDVFNjcm9sbENvbnRlbnRWaWV3IiwiT1MiLCJTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCIsIlNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiY3JlYXRlU2Nyb2xsUmVzcG9uZGVyIiwibm9kZSIsInNjcm9sbFJlc3BvbmRlciIsIk1peGluIiwia2V5IiwiYmluZCIsIkNvbnRleHQiLCJjcmVhdGVDb250ZXh0Iiwic3RhbmRhcmRIb3Jpem9udGFsQ29udGV4dCIsIk9iamVjdCIsImZyZWV6ZSIsImhvcml6b250YWwiLCJzdGFuZGFyZFZlcnRpY2FsQ29udGV4dCIsIlNjcm9sbFZpZXciLCJwcm9wcyIsIl9zY3JvbGxSZXNwb25kZXIiLCJfc2Nyb2xsQW5pbWF0ZWRWYWx1ZSIsIlZhbHVlIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50IiwiX3N0aWNreUhlYWRlclJlZnMiLCJNYXAiLCJfaGVhZGVyTGF5b3V0WXMiLCJzdGF0ZSIsImxheW91dEhlaWdodCIsInNjcm9sbFJlc3BvbmRlck1peGluR2V0SW5pdGlhbFN0YXRlIiwiX2hhbmRsZVNjcm9sbCIsImUiLCJfX0RFVl9fIiwib25TY3JvbGwiLCJzY3JvbGxFdmVudFRocm90dGxlIiwiY29uc29sZSIsImxvZyIsImtleWJvYXJkRGlzbWlzc01vZGUiLCJpc1RvdWNoaW5nIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsIiwiX2hhbmRsZUxheW91dCIsImludmVydFN0aWNreUhlYWRlcnMiLCJzZXRTdGF0ZSIsIm5hdGl2ZUV2ZW50IiwibGF5b3V0IiwiaGVpZ2h0Iiwib25MYXlvdXQiLCJfaGFuZGxlQ29udGVudE9uTGF5b3V0Iiwid2lkdGgiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwiX3Njcm9sbFZpZXdSZWYiLCJfc2V0U2Nyb2xsVmlld1JlZiIsInJlZiIsIl9pbm5lclZpZXdSZWYiLCJfc2V0SW5uZXJWaWV3UmVmIiwic3RhcnRzV2l0aCIsImtleXMiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCIsImNvbnRlbnRPZmZzZXQiLCJ5Iiwic2V0T2Zmc2V0IiwiY29udGVudEluc2V0IiwidG9wIiwibmV4dFByb3BzIiwiY3VycmVudENvbnRlbnRJbnNldFRvcCIsIm5leHRDb250ZW50SW5zZXRUb3AiLCJfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiZGV0YWNoIiwic2V0TmF0aXZlUHJvcHMiLCJmaW5kTm9kZUhhbmRsZSIsIm9wdGlvbnMiLCJkZXByZWNhdGVkWCIsImRlcHJlY2F0ZWRBbmltYXRlZCIsIngiLCJhbmltYXRlZCIsIndhcm4iLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxUbyIsInNjcm9sbFJlc3BvbmRlclNjcm9sbFRvRW5kIiwic2Nyb2xsUmVzcG9uZGVyRmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwiaW5kZXgiLCJjaGlsZEFycmF5IiwiY2hpbGQiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwibGVuZ3RoIiwiYXR0YWNoTmF0aXZlRXZlbnQiLCJzZXQiLCJkZWxldGUiLCJldmVudCIsIkNoaWxkcmVuIiwidG9BcnJheSIsImNoaWxkcmVuIiwiX2dldEtleUZvckluZGV4IiwibGF5b3V0WSIsImluZGV4T2ZJbmRleCIsImluZGV4T2YiLCJwcmV2aW91c0hlYWRlckluZGV4IiwicHJldmlvdXNIZWFkZXIiLCJnZXQiLCJzZXROZXh0SGVhZGVyWSIsIlNjcm9sbFZpZXdDbGFzcyIsIlNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MiLCJ1bmRlZmluZWQiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJzdHlsZXMiLCJjb250ZW50Q29udGFpbmVySG9yaXpvbnRhbCIsInN0eWxlIiwiY2hpbGRMYXlvdXRQcm9wcyIsInByb3AiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudFNpemVDaGFuZ2VQcm9wcyIsIm1hcCIsIm5leHRJbmRleCIsIlN0aWNreUhlYWRlckNvbXBvbmVudCIsIl9zZXRTdGlja3lIZWFkZXJSZWYiLCJfb25TdGlja3lIZWFkZXJMYXlvdXQiLCJoYXNTdGlja3lIZWFkZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwiY29udGVudENvbnRhaW5lciIsInJlbW92ZUNsaXBwZWRTdWJ2aWV3cyIsImFsd2F5c0JvdW5jZUhvcml6b250YWwiLCJhbHdheXNCb3VuY2VWZXJ0aWNhbCIsIkRFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcyIsImJhc2VTdHlsZSIsImJhc2VIb3Jpem9udGFsIiwiYmFzZVZlcnRpY2FsIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbiIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVNb21lbnR1bVNjcm9sbEVuZCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJHcmFudCIsIm9uUmVzcG9uZGVyUmVqZWN0Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVqZWN0Iiwib25SZXNwb25kZXJSZWxlYXNlIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsIm9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRpb25SZXF1ZXN0Iiwib25TY3JvbGxCZWdpbkRyYWciLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxCZWdpbkRyYWciLCJvblNjcm9sbEVuZERyYWciLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxFbmREcmFnIiwib25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsIm9uVG91Y2hFbmQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaEVuZCIsIm9uVG91Y2hNb3ZlIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hNb3ZlIiwib25Ub3VjaFN0YXJ0Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hTdGFydCIsIm9uVG91Y2hDYW5jZWwiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaENhbmNlbCIsInNjcm9sbEJhclRodW1iSW1hZ2UiLCJzZW5kTW9tZW50dW1FdmVudHMiLCJzbmFwVG9TdGFydCIsInNuYXBUb0VuZCIsInBhZ2luZ0VuYWJsZWQiLCJzZWxlY3QiLCJpb3MiLCJzbmFwVG9JbnRlcnZhbCIsInNuYXBUb09mZnNldHMiLCJhbmRyb2lkIiwiZGVjZWxlcmF0aW9uUmF0ZSIsInJlZnJlc2hDb250cm9sIiwiaXNUViIsIm91dGVyIiwiaW5uZXIiLCJjbG9uZUVsZW1lbnQiLCJDb21wb25lbnQiLCJjcmVhdGUiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7QUFuQ0EsSUFBTUEsc0JBQXNCLEdBQUdDLE9BQU8sNkNBQXRDOztBQUNBLElBQU1DLFFBQVEsR0FBR0QsT0FBTyw0QkFBeEI7O0FBQ0EsSUFBTUUsS0FBSyxHQUFHRixPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxJQUFNRyxXQUFXLEdBQUdILE9BQU8sb0NBQTNCOztBQUNBQSxPQUFPLG9DQUFQOztBQUNBLElBQU1JLGVBQWUsR0FBR0osT0FBTyxzQkFBL0I7O0FBQ0EsSUFBTUssc0JBQXNCLEdBQUdMLE9BQU8sNEJBQXRDOztBQUNBLElBQU1NLFVBQVUsR0FBR04sT0FBTywrQkFBMUI7O0FBQ0EsSUFBTU8sSUFBSSxHQUFHUCxPQUFPLGdCQUFwQjs7QUFFQSxJQUFNUSxlQUFlLEdBQUdSLE9BQU8sbUNBQS9COztBQUNBLElBQU1TLFlBQVksR0FBR1QsT0FBTyxpQ0FBNUI7O0FBQ0EsSUFBTVUsU0FBUyxHQUFHVixPQUFPLENBQUMsV0FBRCxDQUF6Qjs7QUFDQSxJQUFNVyx1QkFBdUIsR0FBR1gsT0FBTyw2QkFBdkM7O0FBQ0EsSUFBTVksc0JBQXNCLEdBQUdaLE9BQU8sNENBQXRDOztBQUNBLElBQU1hLGtCQUFrQixHQUFHYixPQUFPLGtDQUFsQzs7QUFDQSxJQUFNYyxnQkFBZ0IsR0FBR2QsT0FBTyxxQ0FBaEM7O0FBcUJBLElBQUllLGlCQUFKO0FBQ0EsSUFBSUMsa0NBQUo7QUFDQSxJQUFJQywyQkFBSjtBQUNBLElBQUlDLGFB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Q0FISyxDQUFQO0FBVUQ7QUFDRjs7QUFDRCxhQUNFLG9CQUFDLGVBQUQsNkJBQXFCdkcsS0FBckI7QUFBNEIsUUFBQSxHQUFHLEVBQUUsS0FBS2dDO0FBQXRDLFVBQ0d1RSxnQkFESCxDQURGO0FBS0Q7OztFQTNpQnNCNUksS0FBSyxDQUFDa00sUzs7QUFBekI5SixVLENBQ0dQLE8sR0FBc0NBLE87QUE2aUIvQyxJQUFNK0YsTUFBTSxHQUFHeEgsVUFBVSxDQUFDK0wsTUFBWCxDQUFrQjtBQUMvQmhELEVBQUFBLFlBQVksRUFBRTtBQUNaaUQsSUFBQUEsUUFBUSxFQUFFLENBREU7QUFFWkMsSUFBQUEsVUFBVSxFQUFFLENBRkE7QUFHWkMsSUFBQUEsYUFBYSxFQUFFLFFBSEg7QUFJWkMsSUFBQUEsUUFBUSxFQUFFO0FBSkUsR0FEaUI7QUFPL0JyRCxFQUFBQSxjQUFjLEVBQUU7QUFDZGtELElBQUFBLFFBQVEsRUFBRSxDQURJO0FBRWRDLElBQUFBLFVBQVUsRUFBRSxDQUZFO0FBR2RDLElBQUFBLGFBQWEsRUFBRSxLQUhEO0FBSWRDLElBQUFBLFFBQVEsRUFBRTtBQUpJLEdBUGU7QUFhL0IxRSxFQUFBQSwwQkFBMEIsRUFBRTtBQUMxQnlFLElBQUFBLGFBQWEsRUFBRTtBQURXO0FBYkcsQ0FBbEIsQ0FBZjtBQWtCQUUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckssVUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL0FuaW1hdGVkL3NyYy9BbmltYXRlZEltcGxlbWVudGF0aW9uJyk7XG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJy4uLy4uL1V0aWxpdGllcy9QbGF0Zm9ybScpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3ROYXRpdmUgPSByZXF1aXJlKCcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZScpO1xucmVxdWlyZSgnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTsgLy8gRm9yY2Ugc2lkZSBlZmZlY3RzIHRvIHByZXZlbnQgVDU1NzQ0MzExXG5jb25zdCBTY3JvbGxSZXNwb25kZXIgPSByZXF1aXJlKCcuLi9TY3JvbGxSZXNwb25kZXInKTtcbmNvbnN0IFNjcm9sbFZpZXdTdGlja3lIZWFkZXIgPSByZXF1aXJlKCcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnKTtcbmNvbnN0IFZpZXcgPSByZXF1aXJlKCcuLi9WaWV3L1ZpZXcnKTtcblxuY29uc3QgZGlzbWlzc0tleWJvYXJkID0gcmVxdWlyZSgnLi4vLi4vVXRpbGl0aWVzL2Rpc21pc3NLZXlib2FyZCcpO1xuY29uc3QgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnLi4vLi4vU3R5bGVTaGVldC9mbGF0dGVuU3R5bGUnKTtcbmNvbnN0IGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuY29uc3QgcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUgPSByZXF1aXJlKCcuL3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlJyk7XG5jb25zdCByZXF1aXJlTmF0aXZlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vLi4vUmVhY3ROYXRpdmUvcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCcpO1xuY29uc3QgcmVzb2x2ZUFzc2V0U291cmNlID0gcmVxdWlyZSgnLi4vLi4vSW1hZ2UvcmVzb2x2ZUFzc2V0U291cmNlJyk7XG5jb25zdCBzcGxpdExheW91dFByb3BzID0gcmVxdWlyZSgnLi4vLi4vU3R5bGVTaGVldC9zcGxpdExheW91dFByb3BzJyk7XG5cbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge1BvaW50UHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9Qb2ludFByb3BUeXBlJztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldFR5cGVzJztcbmltcG9ydCB0eXBlIHtcbiAgUHJlc3NFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG4gIExheW91dEV2ZW50LFxufSBmcm9tICcuLi8uLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7SG9zdENvbXBvbmVudH0gZnJvbSAnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgdHlwZSB7U3RhdGUgYXMgU2Nyb2xsUmVzcG9uZGVyU3RhdGV9IGZyb20gJy4uL1Njcm9sbFJlc3BvbmRlcic7XG5pbXBvcnQgdHlwZSB7Vmlld1Byb3BzfSBmcm9tICcuLi9WaWV3L1ZpZXdQcm9wVHlwZXMnO1xuaW1wb3J0IHR5cGUge1Byb3BzIGFzIFNjcm9sbFZpZXdTdGlja3lIZWFkZXJQcm9wc30gZnJvbSAnLi9TY3JvbGxWaWV3U3RpY2t5SGVhZGVyJztcblxuaW1wb3J0IFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9BbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50JztcblxubGV0IEFuZHJvaWRTY3JvbGxWaWV3O1xubGV0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXc7XG5sZXQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3O1xubGV0IFJDVFNjcm9sbFZpZXc7XG5sZXQgUkNUU2Nyb2xsQ29udGVudFZpZXc7XG5cbmlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gIEFuZHJvaWRTY3JvbGxWaWV3ID0gU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudDtcbiAgQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3ID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3ID0gQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudDtcbn0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIFJDVFNjcm9sbFZpZXcgPSBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50O1xuICBSQ1RTY3JvbGxDb250ZW50VmlldyA9IFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50O1xufSBlbHNlIHtcbiAgUkNUU2Nyb2xsVmlldyA9IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JDVFNjcm9sbFZpZXcnKTtcbiAgUkNUU2Nyb2xsQ29udGVudFZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RTY3JvbGxDb250ZW50VmlldycpO1xufVxuXG5leHBvcnQgdHlwZSBTY3JvbGxSZXNwb25kZXJUeXBlID0ge1xuICAvLyBXZSdkIGxpa2UgdG8gZG8gLi4uU2Nyb2xsVmlldyBoZXJlLCBob3dldmVyIEZsb3cgZG9lc24ndCBzZWVtXG4gIC8vIHRvIHNlZSB0aGUgaW1wZXJhdGl2ZSBtZXRob2RzIG9mIFNjcm9sbFZpZXcgdGhhdCB3YXkuIFdvcmthcm91bmQgdGhlXG4gIC8vIGlzc3VlIGJ5IHNwZWNpZnlpbmcgdGhlbSBtYW51YWxseS5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldFNjcm9sbGFibGVOb2RlJz4sXG4gIGdldElubmVyVmlld05vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldElubmVyVmlld05vZGUnPixcbiAgZ2V0SW5uZXJWaWV3UmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdSZWYnPixcbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXROYXRpdmVTY3JvbGxSZWYnPixcbiAgc2V0TmF0aXZlUHJvcHM6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3NldE5hdGl2ZVByb3BzJz4sXG4gIHNjcm9sbFRvOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUbyc+LFxuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2ZsYXNoU2Nyb2xsSW5kaWNhdG9ycyc+LFxuICAuLi50eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluLFxuICAuLi5cbn07XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgaU9TIHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCB0aGUgY29udGVudCBpbnNldFxuICAgKiBmb3Igc2Nyb2xsIHZpZXdzIHRoYXQgYXJlIHBsYWNlZCBiZWhpbmQgYSBuYXZpZ2F0aW9uIGJhciBvclxuICAgKiB0YWIgYmFyLyB0b29sYmFyLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBhdXRvbWF0aWNhbGx5QWRqdXN0Q29udGVudEluc2V0cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhlIGFtb3VudCBieSB3aGljaCB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBpcyBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIERlZmF1bHRzIHRvIGB7dG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwfWAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNvbnRlbnRJbnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgLyoqXG4gICAqIFVzZWQgdG8gbWFudWFsbHkgc2V0IHRoZSBzdGFydGluZyBzY3JvbGwgb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBge3g6IDAsIHk6IDB9YC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudE9mZnNldD86ID9Qb2ludFByb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj86ID8kUmVhZE9ubHk8e3xcbiAgICBtaW5JbmRleEZvclZpc2libGU6IG51bWJlcixcbiAgICBhdXRvc2Nyb2xsVG9Ub3BUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICB8fT4sXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWF4aW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgbWluaW11bSBhbGxvd2VkIHpvb20gc2NhbGUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgbWluaW11bVpvb21TY2FsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIFNjcm9sbFZpZXcgYWxsb3dzIHVzZSBvZiBwaW5jaCBnZXN0dXJlcyB0byB6b29tIGluIGFuZCBvdXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHBpbmNoR2VzdHVyZUVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoaXMgY29udHJvbHMgaG93IG9mdGVuIHRoZSBzY3JvbGwgZXZlbnQgd2lsbCBiZSBmaXJlZCB3aGlsZSBzY3JvbGxpbmdcbiAgICogKGFzIGEgdGltZSBpbnRlcnZhbCBpbiBtcykuIEEgbG93ZXIgbnVtYmVyIHlpZWxkcyBiZXR0ZXIgYWNjdXJhY3kgZm9yIGNvZGVcbiAgICogdGhhdCBpcyB0cmFja2luZyB0aGUgc2Nyb2xsIHBvc2l0aW9uLCBidXQgY2FuIGxlYWQgdG8gc2Nyb2xsIHBlcmZvcm1hbmNlXG4gICAqIHByb2JsZW1zIGR1ZSB0byB0aGUgdm9sdW1lIG9mIGluZm9ybWF0aW9uIGJlaW5nIHNlbmQgb3ZlciB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBWYWx1ZXMgYmV0d2VlbiAwIGFuZCAxN21zIGluZGljYXRlIDYwZnBzIHVwZGF0ZXMgYXJlIG5lZWRlZCBhbmQgdGhyb3R0bGluZ1xuICAgKiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBJZiB5b3UgZG8gbm90IG5lZWQgcHJlY2lzZSBzY3JvbGwgcG9zaXRpb24gdHJhY2tpbmcsIHNldCB0aGlzIHZhbHVlIGhpZ2hlclxuICAgKiB0byBsaW1pdCB0aGUgaW5mb3JtYXRpb24gYmVpbmcgc2VudCBhY3Jvc3MgdGhlIGJyaWRnZS5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgemVybywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2Nyb2xsIGV2ZW50IGJlaW5nIHNlbnQgb25seVxuICAgKiBvbmNlIGVhY2ggdGltZSB0aGUgdmlldyBpcyBzY3JvbGxlZC5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGBzbmFwVG9JbnRlcnZhbGAgaXMgc2V0LCBgc25hcFRvQWxpZ25tZW50YCB3aWxsIGRlZmluZSB0aGUgcmVsYXRpb25zaGlwXG4gICAqIG9mIHRoZSBzbmFwcGluZyB0byB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqXG4gICAqICAgLSBgJ3N0YXJ0J2AgKHRoZSBkZWZhdWx0KSB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSBsZWZ0IChob3Jpem9udGFsKSBvciB0b3AgKHZlcnRpY2FsKVxuICAgKiAgIC0gYCdjZW50ZXInYCB3aWxsIGFsaWduIHRoZSBzbmFwIGluIHRoZSBjZW50ZXJcbiAgICogICAtIGAnZW5kJ2Agd2lsbCBhbGlnbiB0aGUgc25hcCBhdCB0aGUgcmlnaHQgKGhvcml6b250YWwpIG9yIGJvdHRvbSAodmVydGljYWwpXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NhbGUgb2YgdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDEuMC5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgem9vbVNjYWxlPzogP251bWJlcixcbiAgLyoqXG4gICAqIFRoaXMgcHJvcGVydHkgc3BlY2lmaWVzIGhvdyB0aGUgc2FmZSBhcmVhIGluc2V0cyBhcmUgdXNlZCB0byBtb2RpZnkgdGhlXG4gICAqIGNvbnRlbnQgYXJlYSBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgaXNcbiAgICogXCJuZXZlclwiLiBBdmFpbGFibGUgb24gaU9TIDExIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgY29udGVudEluc2V0QWRqdXN0bWVudEJlaGF2aW9yPzogPyhcbiAgICB8ICdhdXRvbWF0aWMnXG4gICAgfCAnc2Nyb2xsYWJsZUF4ZXMnXG4gICAgfCAnbmV2ZXInXG4gICAgfCAnYWx3YXlzJ1xuICApLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IHdpbGwgZW1pdCB1cGRhdGVDaGlsZEZyYW1lcyBkYXRhIGluIHNjcm9sbCBldmVudHMsXG4gICAqIG90aGVyd2lzZSB3aWxsIG5vdCBjb21wdXRlIG9yIGVtaXQgY2hpbGQgZnJhbWUgZGF0YS4gIFRoaXMgb25seSBleGlzdHNcbiAgICogdG8gc3VwcG9ydCBsZWdhY3kgaXNzdWVzLCBgb25MYXlvdXRgIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgdG8gcmV0cmlldmVcbiAgICogZnJhbWUgZGF0YS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIERFUFJFQ0FURURfc2VuZFVwZGF0ZWRDaGlsZEZyYW1lcz86ID9ib29sZWFuLFxufH0+O1xuXG50eXBlIEFuZHJvaWRQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogRW5hYmxlcyBuZXN0ZWQgc2Nyb2xsaW5nIGZvciBBbmRyb2lkIEFQSSBsZXZlbCAyMSsuXG4gICAqIE5lc3RlZCBzY3JvbGxpbmcgaXMgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gaU9TXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBuZXN0ZWRTY3JvbGxFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTb21ldGltZXMgYSBzY3JvbGx2aWV3IHRha2VzIHVwIG1vcmUgc3BhY2UgdGhhbiBpdHMgY29udGVudCBmaWxscy4gV2hlbiB0aGlzIGlzXG4gICAqIHRoZSBjYXNlLCB0aGlzIHByb3Agd2lsbCBmaWxsIHRoZSByZXN0IG9mIHRoZSBzY3JvbGx2aWV3IHdpdGggYSBjb2xvciB0byBhdm9pZCBzZXR0aW5nXG4gICAqIGEgYmFja2dyb3VuZCBhbmQgY3JlYXRpbmcgdW5uZWNlc3Nhcnkgb3ZlcmRyYXcuIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW1pemF0aW9uXG4gICAqIHRoYXQgaXMgbm90IG5lZWRlZCBpbiB0aGUgZ2VuZXJhbCBjYXNlLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZW5kRmlsbENvbG9yPzogP0NvbG9yVmFsdWUsXG4gIC8qKlxuICAgKiBUYWcgdXNlZCB0byBsb2cgc2Nyb2xsIHBlcmZvcm1hbmNlIG9uIHRoaXMgc2Nyb2xsIHZpZXcuIFdpbGwgZm9yY2VcbiAgICogbW9tZW50dW0gZXZlbnRzIHRvIGJlIHR1cm5lZCBvbiAoc2VlIHNlbmRNb21lbnR1bUV2ZW50cykuIFRoaXMgZG9lc24ndCBkb1xuICAgKiBhbnl0aGluZyBvdXQgb2YgdGhlIGJveCBhbmQgeW91IG5lZWQgdG8gaW1wbGVtZW50IGEgY3VzdG9tIG5hdGl2ZVxuICAgKiBGcHNMaXN0ZW5lciBmb3IgaXQgdG8gYmUgdXNlZnVsLlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgc2Nyb2xsUGVyZlRhZz86ID9zdHJpbmcsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG92ZXJyaWRlIGRlZmF1bHQgdmFsdWUgb2Ygb3ZlclNjcm9sbCBtb2RlLlxuICAgKlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAqXG4gICAqICAtIGAnYXV0bydgIC0gRGVmYXVsdCB2YWx1ZSwgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsXG4gICAqICAgIHRoaXMgdmlldyBvbmx5IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlIGVub3VnaCB0byBtZWFuaW5nZnVsbHkgc2Nyb2xsLlxuICAgKiAgLSBgJ2Fsd2F5cydgIC0gQWx3YXlzIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqICAtIGAnbmV2ZXInYCAtIE5ldmVyIGFsbG93IGEgdXNlciB0byBvdmVyLXNjcm9sbCB0aGlzIHZpZXcuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBvdmVyU2Nyb2xsTW9kZT86ID8oJ2F1dG8nIHwgJ2Fsd2F5cycgfCAnbmV2ZXInKSxcbiAgLyoqXG4gICAqIENhdXNlcyB0aGUgc2Nyb2xsYmFycyBub3QgdG8gdHVybiB0cmFuc3BhcmVudCB3aGVuIHRoZXkgYXJlIG5vdCBpbiB1c2UuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcGVyc2lzdGVudFNjcm9sbGJhcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogRmFkZXMgb3V0IHRoZSBlZGdlcyBvZiB0aGUgdGhlIHNjcm9sbCBjb250ZW50LlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDAsIHRoZSBmYWRpbmcgZWRnZXMgd2lsbCBiZSBzZXQgYWNjb3JkaW5nbHlcbiAgICogdG8gdGhlIGN1cnJlbnQgc2Nyb2xsIGRpcmVjdGlvbiBhbmQgcG9zaXRpb24sXG4gICAqIGluZGljYXRpbmcgaWYgdGhlcmUgaXMgbW9yZSBjb250ZW50IHRvIHNob3cuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBmYWRpbmdFZGdlTGVuZ3RoPzogP251bWJlcixcbnx9PjtcblxudHlwZSBWUlByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBPcHRpb25hbGx5IGFuIGltYWdlIGNhbiBiZSB1c2VkIGZvciB0aGUgc2Nyb2xsIGJhciB0aHVtYi4gVGhpcyB3aWxsXG4gICAqIG92ZXJyaWRlIHRoZSBjb2xvci4gV2hpbGUgdGhlIGltYWdlIGlzIGxvYWRpbmcgb3IgdGhlIGltYWdlIGZhaWxzIHRvXG4gICAqIGxvYWQgdGhlIGNvbG9yIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLiBVc2UgYW4gYWxwaGEgb2YgMCBpbiB0aGUgY29sb3JcbiAgICogdG8gYXZvaWQgc2VlaW5nIGl0IHdoaWxlIHRoZSBpbWFnZSBpcyBsb2FkaW5nLlxuICAgKlxuICAgKiAtIGB1cmlgIC0gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByZXNvdXJjZSBpZGVudGlmaWVyIGZvciB0aGUgaW1hZ2UsIHdoaWNoXG4gICAqIHNob3VsZCBiZSBlaXRoZXIgYSBsb2NhbCBmaWxlIHBhdGggb3IgdGhlIG5hbWUgb2YgYSBzdGF0aWMgaW1hZ2UgcmVzb3VyY2VcbiAgICogLSBgbnVtYmVyYCAtIE9wYXF1ZSB0eXBlIHJldHVybmVkIGJ5IHNvbWV0aGluZyBsaWtlXG4gICAqIGBpbXBvcnQgSU1BR0UgZnJvbSAnLi9pbWFnZS5qcGcnYC5cbiAgICogQHBsYXRmb3JtIHZyXG4gICAqL1xuICBzY3JvbGxCYXJUaHVtYkltYWdlPzogPygkUmVhZE9ubHk8e3x8fT4gfCBudW1iZXIpLCAvLyBPcGFxdWUgdHlwZSByZXR1cm5lZCBieSBpbXBvcnQgSU1BR0UgZnJvbSAnLi9pbWFnZS5qcGcnXG58fT47XG5cbnR5cGUgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSA9IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHMsXG4gICRSZWFkT25seTx7c2V0TmV4dEhlYWRlclk6IG51bWJlciA9PiB2b2lkLCAuLi59Pixcbj47XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC4uLlZpZXdQcm9wcyxcbiAgLi4uSU9TUHJvcHMsXG4gIC4uLkFuZHJvaWRQcm9wcyxcbiAgLi4uVlJQcm9wcyxcblxuICAvKipcbiAgICogVGhlc2Ugc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgc2Nyb2xsIHZpZXcgY29udGVudCBjb250YWluZXIgd2hpY2hcbiAgICogd3JhcHMgYWxsIG9mIHRoZSBjaGlsZCB2aWV3cy4gRXhhbXBsZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHJldHVybiAoXG4gICAqICAgPFNjcm9sbFZpZXcgY29udGVudENvbnRhaW5lclN0eWxlPXtzdHlsZXMuY29udGVudENvbnRhaW5lcn0+XG4gICAqICAgPC9TY3JvbGxWaWV3PlxuICAgKiApO1xuICAgKiAuLi5cbiAgICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICAgKiAgIGNvbnRlbnRDb250YWluZXI6IHtcbiAgICogICAgIHBhZGRpbmdWZXJ0aWNhbDogMjBcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNvbnRlbnRDb250YWluZXJTdHlsZT86ID9WaWV3U3R5bGVQcm9wLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gdGhlIG5leHQgaW5kZXggKGluIHJlbGF0aW9uIHRvIHNjcm9sbFxuICAgKiBwb3NpdGlvbiBhdCByZWxlYXNlKSByZWdhcmRsZXNzIG9mIGhvdyBmYXN0IHRoZSBnZXN0dXJlIGlzLiBUaGlzIGNhbiBiZVxuICAgKiB1c2VkIGZvciBob3Jpem9udGFsIHBhZ2luYXRpb24gd2hlbiB0aGUgcGFnZSBpcyBsZXNzIHRoYW4gdGhlIHdpZHRoIG9mXG4gICAqIHRoZSBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID8oJ2Zhc3QnIHwgJ25vcm1hbCcgfCBudW1iZXIpLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcncyBjaGlsZHJlbiBhcmUgYXJyYW5nZWQgaG9yaXpvbnRhbGx5IGluIGEgcm93XG4gICAqIGluc3RlYWQgb2YgdmVydGljYWxseSBpbiBhIGNvbHVtbi4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqL1xuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBJZiBzdGlja3kgaGVhZGVycyBzaG91bGQgc3RpY2sgYXQgdGhlIGJvdHRvbSBpbnN0ZWFkIG9mIHRoZSB0b3Agb2YgdGhlXG4gICAqIFNjcm9sbFZpZXcuIFRoaXMgaXMgdXN1YWxseSB1c2VkIHdpdGggaW52ZXJ0ZWQgU2Nyb2xsVmlld3MuXG4gICAqL1xuICBpbnZlcnRTdGlja3lIZWFkZXJzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGtleWJvYXJkIGdldHMgZGlzbWlzc2VkIGluIHJlc3BvbnNlIHRvIGEgZHJhZy5cbiAgICpcbiAgICogKkNyb3NzIHBsYXRmb3JtKlxuICAgKlxuICAgKiAgIC0gYCdub25lJ2AgKHRoZSBkZWZhdWx0KSwgZHJhZ3MgZG8gbm90IGRpc21pc3MgdGhlIGtleWJvYXJkLlxuICAgKiAgIC0gYCdvbi1kcmFnJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgd2hlbiBhIGRyYWcgYmVnaW5zLlxuICAgKlxuICAgKiAqaU9TIE9ubHkqXG4gICAqXG4gICAqICAgLSBgJ2ludGVyYWN0aXZlJ2AsIHRoZSBrZXlib2FyZCBpcyBkaXNtaXNzZWQgaW50ZXJhY3RpdmVseSB3aXRoIHRoZSBkcmFnIGFuZCBtb3ZlcyBpblxuICAgKiAgICAgc3luY2hyb255IHdpdGggdGhlIHRvdWNoOyBkcmFnZ2luZyB1cHdhcmRzIGNhbmNlbHMgdGhlIGRpc21pc3NhbC5cbiAgICogICAgIE9uIGFuZHJvaWQgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgYmVoYXZpb3IgYXMgJ25vbmUnLlxuICAgKi9cbiAga2V5Ym9hcmREaXNtaXNzTW9kZT86ID8vLyBkZWZhdWx0XG4gICh8ICdub25lJyAvLyBjcm9zcy1wbGF0Zm9ybVxuICAgIHwgJ29uLWRyYWcnXG4gICAgfCAnaW50ZXJhY3RpdmUnXG4gICksIC8vIGlvcyBvbmx5XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGtleWJvYXJkIHNob3VsZCBzdGF5IHZpc2libGUgYWZ0ZXIgYSB0YXAuXG4gICAqXG4gICAqICAgLSBgJ25ldmVyJ2AgKHRoZSBkZWZhdWx0KSwgdGFwcGluZyBvdXRzaWRlIG9mIHRoZSBmb2N1c2VkIHRleHQgaW5wdXQgd2hlbiB0aGUga2V5Ym9hcmRcbiAgICogICAgIGlzIHVwIGRpc21pc3NlcyB0aGUga2V5Ym9hcmQuIFdoZW4gdGhpcyBoYXBwZW5zLCBjaGlsZHJlbiB3b24ndCByZWNlaXZlIHRoZSB0YXAuXG4gICAqICAgLSBgJ2Fsd2F5cydgLCB0aGUga2V5Ym9hcmQgd2lsbCBub3QgZGlzbWlzcyBhdXRvbWF0aWNhbGx5LCBhbmQgdGhlIHNjcm9sbCB2aWV3IHdpbGwgbm90XG4gICAqICAgICBjYXRjaCB0YXBzLCBidXQgY2hpbGRyZW4gb2YgdGhlIHNjcm9sbCB2aWV3IGNhbiBjYXRjaCB0YXBzLlxuICAgKiAgIC0gYCdoYW5kbGVkJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgdGFwIHdhcyBoYW5kbGVkIGJ5XG4gICAqICAgICBhIGNoaWxkcmVuLCAob3IgY2FwdHVyZWQgYnkgYW4gYW5jZXN0b3IpLlxuICAgKiAgIC0gYGZhbHNlYCwgZGVwcmVjYXRlZCwgdXNlICduZXZlcicgaW5zdGVhZFxuICAgKiAgIC0gYHRydWVgLCBkZXByZWNhdGVkLCB1c2UgJ2Fsd2F5cycgaW5zdGVhZFxuICAgKi9cbiAga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz86ID8oJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2hhbmRsZWQnIHwgdHJ1ZSB8IGZhbHNlKSxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgc3RhcnRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEJlZ2luPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgbW9tZW50dW0gc2Nyb2xsIGVuZHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsRW5kPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG5cbiAgLyoqXG4gICAqIEZpcmVzIGF0IG1vc3Qgb25jZSBwZXIgZnJhbWUgZHVyaW5nIHNjcm9sbGluZy4gVGhlIGZyZXF1ZW5jeSBvZiB0aGVcbiAgICogZXZlbnRzIGNhbiBiZSBjb250cm9sbGVkIHVzaW5nIHRoZSBgc2Nyb2xsRXZlbnRUaHJvdHRsZWAgcHJvcC5cbiAgICovXG4gIG9uU2Nyb2xsPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBiZWdpbnMgdG8gZHJhZyB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqL1xuICBvblNjcm9sbEJlZ2luRHJhZz86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgc3RvcHMgZHJhZ2dpbmcgdGhlIHNjcm9sbCB2aWV3IGFuZCBpdCBlaXRoZXIgc3RvcHNcbiAgICogb3IgYmVnaW5zIHRvIGdsaWRlLlxuICAgKi9cbiAgb25TY3JvbGxFbmREcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBzY3JvbGxhYmxlIGNvbnRlbnQgdmlldyBvZiB0aGUgU2Nyb2xsVmlldyBjaGFuZ2VzLlxuICAgKlxuICAgKiBIYW5kbGVyIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgY29udGVudCB3aWR0aCBhbmQgY29udGVudCBoZWlnaHQgYXMgcGFyYW1ldGVyczpcbiAgICogYChjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpYFxuICAgKlxuICAgKiBJdCdzIGltcGxlbWVudGVkIHVzaW5nIG9uTGF5b3V0IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyXG4gICAqIHdoaWNoIHRoaXMgU2Nyb2xsVmlldyByZW5kZXJzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86IChjb250ZW50V2lkdGg6IG51bWJlciwgY29udGVudEhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkU2hvdz86IChldmVudDogUHJlc3NFdmVudCkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIG11bHRpcGxlcyBvZiB0aGUgc2Nyb2xsIHZpZXcncyBzaXplXG4gICAqIHdoZW4gc2Nyb2xsaW5nLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBob3Jpem9udGFsIHBhZ2luYXRpb24uIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlLlxuICAgKlxuICAgKiBOb3RlOiBWZXJ0aWNhbCBwYWdpbmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gQW5kcm9pZC5cbiAgICovXG4gIHBhZ2luZ0VuYWJsZWQ/OiA/Ym9vbGVhbixcblxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgdGhlIHZpZXcgY2Fubm90IGJlIHNjcm9sbGVkIHZpYSB0b3VjaCBpbnRlcmFjdGlvbi5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSB2aWV3IGNhbiBhbHdheXMgYmUgc2Nyb2xsZWQgYnkgY2FsbGluZyBgc2Nyb2xsVG9gLlxuICAgKi9cbiAgc2Nyb2xsRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBzaG93cyBhIHZlcnRpY2FsIHNjcm9sbCBpbmRpY2F0b3IuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzaG93c1ZlcnRpY2FsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBjaGlsZCBpbmRpY2VzIGRldGVybWluaW5nIHdoaWNoIGNoaWxkcmVuIGdldCBkb2NrZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2NyZWVuIHdoZW4gc2Nyb2xsaW5nLiBGb3IgZXhhbXBsZSwgcGFzc2luZ1xuICAgKiBgc3RpY2t5SGVhZGVySW5kaWNlcz17WzBdfWAgd2lsbCBjYXVzZSB0aGUgZmlyc3QgY2hpbGQgdG8gYmUgZml4ZWQgdG8gdGhlXG4gICAqIHRvcCBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBpbiBjb25qdW5jdGlvblxuICAgKiB3aXRoIGBob3Jpem9udGFsPXt0cnVlfWAuXG4gICAqL1xuICBzdGlja3lIZWFkZXJJbmRpY2VzPzogPyRSZWFkT25seUFycmF5PG51bWJlcj4sXG4gIC8qKlxuICAgKiBBIFJlYWN0IENvbXBvbmVudCB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgc3RpY2t5IGhlYWRlcnMuXG4gICAqIFRvIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBgc3RpY2t5SGVhZGVySW5kaWNlc2Agb3Igd2l0aCBgU2VjdGlvbkxpc3RgLCBkZWZhdWx0cyB0byBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAqIFlvdSBtYXkgbmVlZCB0byBzZXQgdGhpcyBpZiB5b3VyIHN0aWNreSBoZWFkZXIgdXNlcyBjdXN0b20gdHJhbnNmb3JtcyAoZWcuIHRyYW5zbGF0aW9uKSxcbiAgICogZm9yIGV4YW1wbGUgd2hlbiB5b3Ugd2FudCB5b3VyIGxpc3QgdG8gaGF2ZSBhbiBhbmltYXRlZCBoaWRhYmxlIGhlYWRlci5cbiAgICovXG4gIFN0aWNreUhlYWRlckNvbXBvbmVudD86IFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGUsXG4gIC8qKlxuICAgKiBXaGVuIHNldCwgY2F1c2VzIHRoZSBzY3JvbGwgdmlldyB0byBzdG9wIGF0IG11bHRpcGxlcyBvZiB0aGUgdmFsdWUgb2ZcbiAgICogYHNuYXBUb0ludGVydmFsYC4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYHNuYXBUb0FsaWdubWVudGAgYW5kIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBwcm9wLlxuICAgKi9cbiAgc25hcFRvSW50ZXJ2YWw/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCB0aGUgZGVmaW5lZCBvZmZzZXRzLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIGZvciBwYWdpbmF0aW5nIHRocm91Z2ggdmFyaW91c2x5IHNpemVkIGNoaWxkcmVuXG4gICAqIHRoYXQgaGF2ZSBsZW5ndGhzIHNtYWxsZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcuIFR5cGljYWxseSB1c2VkIGluXG4gICAqIGNvbWJpbmF0aW9uIHdpdGggYGRlY2VsZXJhdGlvblJhdGU9XCJmYXN0XCJgLlxuICAgKlxuICAgKiBPdmVycmlkZXMgbGVzcyBjb25maWd1cmFibGUgYHBhZ2luZ0VuYWJsZWRgIGFuZCBgc25hcFRvSW50ZXJ2YWxgIHByb3BzLlxuICAgKi9cbiAgc25hcFRvT2Zmc2V0cz86ID8kUmVhZE9ubHlBcnJheTxudW1iZXI+LFxuICAvKipcbiAgICogVXNlIGluIGNvbmp1bmN0aW9uIHdpdGggYHNuYXBUb09mZnNldHNgLiBCeSBkZWZhdWx0LCB0aGUgYmVnaW5uaW5nXG4gICAqIG9mIHRoZSBsaXN0IGNvdW50cyBhcyBhIHNuYXAgb2Zmc2V0LiBTZXQgYHNuYXBUb1N0YXJ0YCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgc3RhcnQgYW5kXG4gICAqIHRoZSBmaXJzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvU3RhcnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGVuZFxuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9FbmRgIHRvIGZhbHNlIHRvIGRpc2FibGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgYWxsb3cgdGhlIGxpc3QgdG8gc2Nyb2xsIGZyZWVseSBiZXR3ZWVuIGl0cyBlbmQgYW5kXG4gICAqIHRoZSBsYXN0IGBzbmFwVG9PZmZzZXRzYCBvZmZzZXQuXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICBzbmFwVG9FbmQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEV4cGVyaW1lbnRhbDogV2hlbiB0cnVlLCBvZmZzY3JlZW4gY2hpbGQgdmlld3MgKHdob3NlIGBvdmVyZmxvd2AgdmFsdWUgaXNcbiAgICogYGhpZGRlbmApIGFyZSByZW1vdmVkIGZyb20gdGhlaXIgbmF0aXZlIGJhY2tpbmcgc3VwZXJ2aWV3IHdoZW4gb2Zmc2NyZWVuLlxuICAgKiBUaGlzIGNhbiBpbXByb3ZlIHNjcm9sbGluZyBwZXJmb3JtYW5jZSBvbiBsb25nIGxpc3RzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpc1xuICAgKiB0cnVlLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIFJlZnJlc2hDb250cm9sIGNvbXBvbmVudCwgdXNlZCB0byBwcm92aWRlIHB1bGwtdG8tcmVmcmVzaFxuICAgKiBmdW5jdGlvbmFsaXR5IGZvciB0aGUgU2Nyb2xsVmlldy4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgU2Nyb2xsVmlld3NcbiAgICogKGBob3Jpem9udGFsYCBwcm9wIG11c3QgYmUgYGZhbHNlYCkuXG4gICAqXG4gICAqIFNlZSBbUmVmcmVzaENvbnRyb2xdKGRvY3MvcmVmcmVzaGNvbnRyb2wuaHRtbCkuXG4gICAqL1xuICAvLyAkRmxvd0ZpeE1lIC0gaG93IHRvIGhhbmRsZSBnZW5lcmljIHR5cGUgd2l0aG91dCBleGlzdGVudGlhbCBvcGVyYXRvcj9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXG58fT47XG5cbnR5cGUgU3RhdGUgPSB7fFxuICBsYXlvdXRIZWlnaHQ6ID9udW1iZXIsXG4gIC4uLlNjcm9sbFJlc3BvbmRlclN0YXRlLFxufH07XG5cbmZ1bmN0aW9uIGNyZWF0ZVNjcm9sbFJlc3BvbmRlcihcbiAgbm9kZTogUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2Nyb2xsVmlldz4sXG4pOiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluIHtcbiAgY29uc3Qgc2Nyb2xsUmVzcG9uZGVyID0gey4uLlNjcm9sbFJlc3BvbmRlci5NaXhpbn07XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gc2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgaWYgKHR5cGVvZiBzY3JvbGxSZXNwb25kZXJba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc2Nyb2xsUmVzcG9uZGVyW2tleV0gPSBzY3JvbGxSZXNwb25kZXJba2V5XS5iaW5kKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzY3JvbGxSZXNwb25kZXI7XG59XG5cbnR5cGUgQ29udGV4dFR5cGUgPSB7fGhvcml6b250YWw6IGJvb2xlYW58fSB8IG51bGw7XG5jb25zdCBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxDb250ZXh0VHlwZT4obnVsbCk7XG5jb25zdCBzdGFuZGFyZEhvcml6b250YWxDb250ZXh0OiBDb250ZXh0VHlwZSA9IE9iamVjdC5mcmVlemUoe1xuICBob3Jpem9udGFsOiB0cnVlLFxufSk7XG5jb25zdCBzdGFuZGFyZFZlcnRpY2FsQ29udGV4dDogQ29udGV4dFR5cGUgPSBPYmplY3QuZnJlZXplKHtob3Jpem9udGFsOiBmYWxzZX0pO1xuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IHdyYXBzIHBsYXRmb3JtIFNjcm9sbFZpZXcgd2hpbGUgcHJvdmlkaW5nXG4gKiBpbnRlZ3JhdGlvbiB3aXRoIHRvdWNoIGxvY2tpbmcgXCJyZXNwb25kZXJcIiBzeXN0ZW0uXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgU2Nyb2xsVmlld3MgbXVzdCBoYXZlIGEgYm91bmRlZCBoZWlnaHQgaW4gb3JkZXIgdG8gd29yayxcbiAqIHNpbmNlIHRoZXkgY29udGFpbiB1bmJvdW5kZWQtaGVpZ2h0IGNoaWxkcmVuIGludG8gYSBib3VuZGVkIGNvbnRhaW5lciAodmlhXG4gKiBhIHNjcm9sbCBpbnRlcmFjdGlvbikuIEluIG9yZGVyIHRvIGJvdW5kIHRoZSBoZWlnaHQgb2YgYSBTY3JvbGxWaWV3LCBlaXRoZXJcbiAqIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3IGRpcmVjdGx5IChkaXNjb3VyYWdlZCkgb3IgbWFrZSBzdXJlIGFsbCBwYXJlbnRcbiAqIHZpZXdzIGhhdmUgYm91bmRlZCBoZWlnaHQuIEZvcmdldHRpbmcgdG8gdHJhbnNmZXIgYHtmbGV4OiAxfWAgZG93biB0aGVcbiAqIHZpZXcgc3RhY2sgY2FuIGxlYWQgdG8gZXJyb3JzIGhlcmUsIHdoaWNoIHRoZSBlbGVtZW50IGluc3BlY3RvciBtYWtlc1xuICogZWFzeSB0byBkZWJ1Zy5cbiAqXG4gKiBEb2Vzbid0IHlldCBzdXBwb3J0IG90aGVyIGNvbnRhaW5lZCByZXNwb25kZXJzIGZyb20gYmxvY2tpbmcgdGhpcyBzY3JvbGxcbiAqIHZpZXcgZnJvbSBiZWNvbWluZyB0aGUgcmVzcG9uZGVyLlxuICpcbiAqXG4gKiBgPFNjcm9sbFZpZXc+YCB2cyBbYDxGbGF0TGlzdD5gXSgvcmVhY3QtbmF0aXZlL2RvY3MvZmxhdGxpc3QuaHRtbCkgLSB3aGljaCBvbmUgdG8gdXNlP1xuICpcbiAqIGBTY3JvbGxWaWV3YCBzaW1wbHkgcmVuZGVycyBhbGwgaXRzIHJlYWN0IGNoaWxkIGNvbXBvbmVudHMgYXQgb25jZS4gVGhhdFxuICogbWFrZXMgaXQgdmVyeSBlYXN5IHRvIHVuZGVyc3RhbmQgYW5kIHVzZS5cbiAqXG4gKiBPbiB0aGUgb3RoZXIgaGFuZCwgdGhpcyBoYXMgYSBwZXJmb3JtYW5jZSBkb3duc2lkZS4gSW1hZ2luZSB5b3UgaGF2ZSBhIHZlcnlcbiAqIGxvbmcgbGlzdCBvZiBpdGVtcyB5b3Ugd2FudCB0byBkaXNwbGF5LCBtYXliZSBzZXZlcmFsIHNjcmVlbnMgd29ydGggb2ZcbiAqIGNvbnRlbnQuIENyZWF0aW5nIEpTIGNvbXBvbmVudHMgYW5kIG5hdGl2ZSB2aWV3cyBmb3IgZXZlcnl0aGluZyBhbGwgYXQgb25jZSxcbiAqIG11Y2ggb2Ygd2hpY2ggbWF5IG5vdCBldmVuIGJlIHNob3duLCB3aWxsIGNvbnRyaWJ1dGUgdG8gc2xvdyByZW5kZXJpbmcgYW5kXG4gKiBpbmNyZWFzZWQgbWVtb3J5IHVzYWdlLlxuICpcbiAqIFRoaXMgaXMgd2hlcmUgYEZsYXRMaXN0YCBjb21lcyBpbnRvIHBsYXkuIGBGbGF0TGlzdGAgcmVuZGVycyBpdGVtcyBsYXppbHksXG4gKiBqdXN0IHdoZW4gdGhleSBhcmUgYWJvdXQgdG8gYXBwZWFyLCBhbmQgcmVtb3ZlcyBpdGVtcyB0aGF0IHNjcm9sbCB3YXkgb2ZmXG4gKiBzY3JlZW4gdG8gc2F2ZSBtZW1vcnkgYW5kIHByb2Nlc3NpbmcgdGltZS5cbiAqXG4gKiBgRmxhdExpc3RgIGlzIGFsc28gaGFuZHkgaWYgeW91IHdhbnQgdG8gcmVuZGVyIHNlcGFyYXRvcnMgYmV0d2VlbiB5b3VyIGl0ZW1zLFxuICogbXVsdGlwbGUgY29sdW1ucywgaW5maW5pdGUgc2Nyb2xsIGxvYWRpbmcsIG9yIGFueSBudW1iZXIgb2Ygb3RoZXIgZmVhdHVyZXMgaXRcbiAqIHN1cHBvcnRzIG91dCBvZiB0aGUgYm94LlxuICovXG5jbGFzcyBTY3JvbGxWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0aWMgQ29udGV4dDogUmVhY3QkQ29udGV4dDxDb250ZXh0VHlwZT4gPSBDb250ZXh0O1xuICAvKipcbiAgICogUGFydCAxOiBSZW1vdmluZyBTY3JvbGxSZXNwb25kZXIuTWl4aW46XG4gICAqXG4gICAqIDEuIE1peGluIG1ldGhvZHMgc2hvdWxkIGJlIGZsb3cgdHlwZWQuIFRoYXQncyB3aHkgd2UgY3JlYXRlIGFcbiAgICogICAgY29weSBvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW4gYW5kIGF0dGFjaCBpdCB0byB0aGlzLl9zY3JvbGxSZXNwb25kZXIuXG4gICAqICAgIE90aGVyd2lzZSwgd2UnZCBoYXZlIHRvIG1hbnVhbGx5IGRlY2xhcmUgZWFjaCBtZXRob2Qgb24gdGhlIGNvbXBvbmVudFxuICAgKiAgICBjbGFzcyBhbmQgYXNzaWduIGl0IGEgZmxvdyB0eXBlLlxuICAgKiAyLiBNaXhpbiBtZXRob2RzIGNhbiBjYWxsIGNvbXBvbmVudCBtZXRob2RzLCBhbmQgYWNjZXNzIHRoZSBjb21wb25lbnQnc1xuICAgKiAgICBwcm9wcyBhbmQgc3RhdGUuIFNvLCB3ZSBuZWVkIHRvIGJpbmQgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlXG4gICAqICAgIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICogMy4gQ29udGludWVkLi4uXG4gICAqL1xuICBfc2Nyb2xsUmVzcG9uZGVyOiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluID0gY3JlYXRlU2Nyb2xsUmVzcG9uZGVyKHRoaXMpO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIC8qKlxuICAgICAqIFBhcnQgMjogUmVtb3ZpbmcgU2Nyb2xsUmVzcG9uZGVyLk1peGluXG4gICAgICpcbiAgICAgKiAzLiBNaXhpbiBtZXRob2RzIGFjY2VzcyBvdGhlciBtaXhpbiBtZXRob2RzIHZpYSBkeW5hbWljIGRpc3BhdGNoIHVzaW5nXG4gICAgICogICAgdGhpcy4gU2luY2UgbWl4aW4gbWV0aG9kcyBhcmUgYm91bmQgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSwgd2UgbmVlZFxuICAgICAqICAgIHRvIGNvcHkgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhpcyBpcyBhbHNvXG4gICAgICogICAgbmVjZXNzYXJ5IGJlY2F1c2UgZ2V0U2Nyb2xsUmVzcG9uZGVyKCkgaXMgYSBwdWJsaWMgbWV0aG9kIHRoYXQgcmV0dXJuc1xuICAgICAqICAgIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGV4ZWN1dGUgYWxsIHNjcm9sbFJlc3BvbmRlciBtZXRob2RzLlxuICAgICAqICAgIFNpbmNlIHRoZSBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGF0IG1ldGhvZCBpcyB0aGUgU2Nyb2xsVmlldyBpbnN0YW5jZSxcbiAgICAgKiAgICB3ZSBuZWVkIHRvIGJpbmQgYWxsIG1peGluIG1ldGhvZHMgdG8gdGhlIFNjcm9sbFZpZXcgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZm9yIChjb25zdCBrZXkgaW4gU2Nyb2xsUmVzcG9uZGVyLk1peGluKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBTY3JvbGxSZXNwb25kZXIuTWl4aW5ba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICBrZXkuc3RhcnRzV2l0aCgnc2Nyb2xsUmVzcG9uZGVyJylcbiAgICAgICkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gZHluYW1pY2FsbHkgYWRkaW5nIHByb3BlcnRpZXMgdG8gYSBjbGFzc1xuICAgICAgICAodGhpczogYW55KVtrZXldID0gU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV0uYmluZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJ0IDM6IFJlbW92aW5nIFNjcm9sbFJlc3BvbmRlci5NaXhpblxuICAgICAqXG4gICAgICogNC4gTWl4aW5zIGNhbiBpbml0aWFsaXplIHByb3BlcnRpZXMgYW5kIHVzZSBwcm9wZXJ0aWVzIG9uIHRoZSBjb21wb25lbnRcbiAgICAgKiAgICBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBPYmplY3Qua2V5cyhTY3JvbGxSZXNwb25kZXIuTWl4aW4pXG4gICAgICAuZmlsdGVyKGtleSA9PiB0eXBlb2YgU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV0gIT09ICdmdW5jdGlvbicpXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gZHluYW1pY2FsbHkgYWRkaW5nIHByb3BlcnRpZXMgdG8gYSBjbGFzc1xuICAgICAgICAodGhpczogYW55KVtrZXldID0gU2Nyb2xsUmVzcG9uZGVyLk1peGluW2tleV07XG4gICAgICB9KTtcbiAgfVxuXG4gIF9zY3JvbGxBbmltYXRlZFZhbHVlOiBBbmltYXRlZEltcGxlbWVudGF0aW9uLlZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgMCxcbiAgKTtcbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50OiA/e2RldGFjaDogKCkgPT4gdm9pZCwgLi4ufSA9IG51bGw7XG4gIF9zdGlja3lIZWFkZXJSZWZzOiBNYXA8XG4gICAgc3RyaW5nLFxuICAgIFJlYWN0LkVsZW1lbnRSZWY8U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4sXG4gID4gPSBuZXcgTWFwKCk7XG4gIF9oZWFkZXJMYXlvdXRZczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgbGF5b3V0SGVpZ2h0OiBudWxsLFxuICAgIC4uLlNjcm9sbFJlc3BvbmRlci5NaXhpbi5zY3JvbGxSZXNwb25kZXJNaXhpbkdldEluaXRpYWxTdGF0ZSgpLFxuICB9O1xuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQgPyB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQueSA6IDAsXG4gICAgKTtcbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlLnNldE9mZnNldChcbiAgICAgIHRoaXMucHJvcHMuY29udGVudEluc2V0ID8gdGhpcy5wcm9wcy5jb250ZW50SW5zZXQudG9wIHx8IDAgOiAwLFxuICAgICk7XG4gICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCBjdXJyZW50Q29udGVudEluc2V0VG9wID0gdGhpcy5wcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gdGhpcy5wcm9wcy5jb250ZW50SW5zZXQudG9wXG4gICAgICA6IDA7XG4gICAgY29uc3QgbmV4dENvbnRlbnRJbnNldFRvcCA9IG5leHRQcm9wcy5jb250ZW50SW5zZXRcbiAgICAgID8gbmV4dFByb3BzLmNvbnRlbnRJbnNldC50b3BcbiAgICAgIDogMDtcbiAgICBpZiAoY3VycmVudENvbnRlbnRJbnNldFRvcCAhPT0gbmV4dENvbnRlbnRJbnNldFRvcCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZS5zZXRPZmZzZXQobmV4dENvbnRlbnRJbnNldFRvcCB8fCAwKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5fc2Nyb2xsUmVzcG9uZGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gIH1cblxuICBzZXROYXRpdmVQcm9wcyhwcm9wczoge1trZXk6IHN0cmluZ106IG1peGVkLCAuLi59KSB7XG4gICAgdGhpcy5fc2Nyb2xsVmlld1JlZiAmJiB0aGlzLl9zY3JvbGxWaWV3UmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIsIHdoaWNoIHN1cHBvcnRzXG4gICAqIG9wZXJhdGlvbnMgbGlrZSBgc2Nyb2xsVG9gLiBBbGwgU2Nyb2xsVmlldy1saWtlIGNvbXBvbmVudHMgc2hvdWxkXG4gICAqIGltcGxlbWVudCB0aGlzIG1ldGhvZCBzbyB0aGF0IHRoZXkgY2FuIGJlIGNvbXBvc2VkIHdoaWxlIHByb3ZpZGluZyBhY2Nlc3NcbiAgICogdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlcidzIG1ldGhvZHMuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXIoKTogU2Nyb2xsUmVzcG9uZGVyVHlwZSB7XG4gICAgLy8gJEZsb3dGaXhNZSAtIG92ZXJyaWRpbmcgdHlwZSB0byBpbmNsdWRlIFNjcm9sbFJlc3BvbmRlci5NaXhpblxuICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKTogP251bWJlciB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFZpZXdSZWYpO1xuICB9XG5cbiAgZ2V0SW5uZXJWaWV3Tm9kZSgpOiA/bnVtYmVyIHtcbiAgICByZXR1cm4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcy5faW5uZXJWaWV3UmVmKTtcbiAgfVxuXG4gIGdldElubmVyVmlld1JlZigpOiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4ge1xuICAgIHJldHVybiB0aGlzLl9pbm5lclZpZXdSZWY7XG4gIH1cblxuICBnZXROYXRpdmVTY3JvbGxSZWYoKTogP1JlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+IHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsVmlld1JlZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYHNjcm9sbFRvKHt4OiAwLCB5OiAwLCBhbmltYXRlZDogdHJ1ZX0pYFxuICAgKlxuICAgKiBOb3RlOiBUaGUgd2VpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0LCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLFxuICAgKiB0aGUgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIHNlcGFyYXRlIGFyZ3VtZW50cyBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIFRoaXMgaXMgZGVwcmVjYXRlZCBkdWUgdG8gYW1iaWd1aXR5ICh5IGJlZm9yZSB4KSwgYW5kIFNIT1VMRCBOT1QgQkUgVVNFRC5cbiAgICovXG4gIHNjcm9sbFRvKFxuICAgIG9wdGlvbnM/OlxuICAgICAgfCB7XG4gICAgICAgICAgeD86IG51bWJlcixcbiAgICAgICAgICB5PzogbnVtYmVyLFxuICAgICAgICAgIGFuaW1hdGVkPzogYm9vbGVhbixcbiAgICAgICAgICAuLi5cbiAgICAgICAgfVxuICAgICAgfCBudW1iZXIsXG4gICAgZGVwcmVjYXRlZFg/OiBudW1iZXIsXG4gICAgZGVwcmVjYXRlZEFuaW1hdGVkPzogYm9vbGVhbixcbiAgKSB7XG4gICAgbGV0IHgsIHksIGFuaW1hdGVkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxUbyh5LCB4LCBhbmltYXRlZClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG8oe3g6IDUsIHk6IDUsICcgK1xuICAgICAgICAgICdhbmltYXRlZDogdHJ1ZX0pYCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgICAgeSA9IG9wdGlvbnM7XG4gICAgICB4ID0gZGVwcmVjYXRlZFg7XG4gICAgICBhbmltYXRlZCA9IGRlcHJlY2F0ZWRBbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gICAgICB4ID0gb3B0aW9ucy54O1xuICAgICAgYW5pbWF0ZWQgPSBvcHRpb25zLmFuaW1hdGVkO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG8oe1xuICAgICAgeDogeCB8fCAwLFxuICAgICAgeTogeSB8fCAwLFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkICE9PSBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgdmVydGljYWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSBib3R0b20uXG4gICAqIElmIHRoaXMgaXMgYSBob3Jpem9udGFsIFNjcm9sbFZpZXcgc2Nyb2xscyB0byB0aGUgcmlnaHQuXG4gICAqXG4gICAqIFVzZSBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiB0cnVlfSlgIGZvciBzbW9vdGggYW5pbWF0ZWQgc2Nyb2xsaW5nLFxuICAgKiBgc2Nyb2xsVG9FbmQoe2FuaW1hdGVkOiBmYWxzZX0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZChvcHRpb25zPzogP3thbmltYXRlZD86IGJvb2xlYW4sIC4uLn0pIHtcbiAgICAvLyBEZWZhdWx0IHRvIHRydWVcbiAgICBjb25zdCBhbmltYXRlZCA9IChvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0ZWQpICE9PSBmYWxzZTtcbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG9FbmQoe1xuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBzY3JvbGwgaW5kaWNhdG9ycyBtb21lbnRhcmlseS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCkge1xuICAgIHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJGbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIF9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRBcnJheVtpbmRleF07XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfVxuXG4gIF91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyAmJlxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50ID0gQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5hdHRhY2hOYXRpdmVFdmVudChcbiAgICAgICAgdGhpcy5fc2Nyb2xsVmlld1JlZixcbiAgICAgICAgJ29uU2Nyb2xsJyxcbiAgICAgICAgW3tuYXRpdmVFdmVudDoge2NvbnRlbnRPZmZzZXQ6IHt5OiB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfX19XSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX3NldFN0aWNreUhlYWRlclJlZihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByZWY6ID9SZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+LFxuICApIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLnNldChrZXksIHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KSB7XG4gICAgY29uc3Qge3N0aWNreUhlYWRlckluZGljZXN9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXN0aWNreUhlYWRlckluZGljZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fZ2V0S2V5Rm9ySW5kZXgoaW5kZXgsIGNoaWxkQXJyYXkpKSB7XG4gICAgICAvLyBpZ25vcmUgc3RhbGUgbGF5b3V0IHVwZGF0ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheW91dFkgPSBldmVudC5uYXRpdmVFdmVudC5sYXlvdXQueTtcbiAgICB0aGlzLl9oZWFkZXJMYXlvdXRZcy5zZXQoa2V5LCBsYXlvdXRZKTtcblxuICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXMuaW5kZXhPZihpbmRleCk7XG4gICAgY29uc3QgcHJldmlvdXNIZWFkZXJJbmRleCA9IHN0aWNreUhlYWRlckluZGljZXNbaW5kZXhPZkluZGV4IC0gMV07XG4gICAgaWYgKHByZXZpb3VzSGVhZGVySW5kZXggIT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJldmlvdXNIZWFkZXIgPSB0aGlzLl9zdGlja3lIZWFkZXJSZWZzLmdldChcbiAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgocHJldmlvdXNIZWFkZXJJbmRleCwgY2hpbGRBcnJheSksXG4gICAgICApO1xuICAgICAgcHJldmlvdXNIZWFkZXIgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkgJiZcbiAgICAgICAgcHJldmlvdXNIZWFkZXIuc2V0TmV4dEhlYWRlclkobGF5b3V0WSk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVNjcm9sbCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMub25TY3JvbGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlID09IG51bGwgJiZcbiAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdpb3MnXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1lvdSBzcGVjaWZpZWQgYG9uU2Nyb2xsYCBvbiBhIDxTY3JvbGxWaWV3PiBidXQgbm90ICcgK1xuICAgICAgICAgICAgJ2BzY3JvbGxFdmVudFRocm90dGxlYC4gWW91IHdpbGwgb25seSByZWNlaXZlIG9uZSBldmVudC4gJyArXG4gICAgICAgICAgICAnVXNpbmcgYDE2YCB5b3UgZ2V0IGFsbCB0aGUgZXZlbnRzIGJ1dCBiZSBhd2FyZSB0aGF0IGl0IG1heSAnICtcbiAgICAgICAgICAgIFwiY2F1c2UgZnJhbWUgZHJvcHMsIHVzZSBhIGJpZ2dlciBudW1iZXIgaWYgeW91IGRvbid0IG5lZWQgYXMgXCIgK1xuICAgICAgICAgICAgJ211Y2ggcHJlY2lzaW9uLicsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSA9PT0gJ29uLWRyYWcnICYmXG4gICAgICAgIHRoaXMuc3RhdGUuaXNUb3VjaGluZ1xuICAgICAgKSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsKGUpO1xuICB9O1xuXG4gIF9oYW5kbGVMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXlvdXRIZWlnaHQ6IGUubmF0aXZlRXZlbnQubGF5b3V0LmhlaWdodH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkxheW91dCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSAmJlxuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICB9O1xuXG4gIF9zY3JvbGxWaWV3UmVmOiA/UmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PG1peGVkPj4gPSBudWxsO1xuICBfc2V0U2Nyb2xsVmlld1JlZiA9IChyZWY6ID9SZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PikgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFZpZXdSZWYgPSByZWY7XG4gIH07XG5cbiAgX2lubmVyVmlld1JlZjogP1JlYWN0LkVsZW1lbnRSZWY8SG9zdENvbXBvbmVudDxtaXhlZD4+ID0gbnVsbDtcbiAgX3NldElubmVyVmlld1JlZiA9IChyZWY6ID9SZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PikgPT4ge1xuICAgIHRoaXMuX2lubmVyVmlld1JlZiA9IHJlZjtcbiAgfTtcblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB8IFJlYWN0LkVsZW1lbnQ8c3RyaW5nPiB7XG4gICAgbGV0IFNjcm9sbFZpZXdDbGFzcztcbiAgICBsZXQgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcztcbiAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSkge1xuICAgICAgICBTY3JvbGxWaWV3Q2xhc3MgPSBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbFZpZXc7XG4gICAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgPSBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU2Nyb2xsVmlld0NsYXNzID0gQW5kcm9pZFNjcm9sbFZpZXc7XG4gICAgICAgIFNjcm9sbENvbnRlbnRDb250YWluZXJWaWV3Q2xhc3MgPSBWaWV3O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBTY3JvbGxWaWV3Q2xhc3MgPSBSQ1RTY3JvbGxWaWV3O1xuICAgICAgU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyA9IFJDVFNjcm9sbENvbnRlbnRWaWV3O1xuICAgIH1cblxuICAgIGludmFyaWFudChcbiAgICAgIFNjcm9sbFZpZXdDbGFzcyAhPT0gdW5kZWZpbmVkLFxuICAgICAgJ1Njcm9sbFZpZXdDbGFzcyBtdXN0IG5vdCBiZSB1bmRlZmluZWQnLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzICE9PSB1bmRlZmluZWQsXG4gICAgICAnU2Nyb2xsQ29udGVudENvbnRhaW5lclZpZXdDbGFzcyBtdXN0IG5vdCBiZSB1bmRlZmluZWQnLFxuICAgICk7XG5cbiAgICBjb25zdCBjb250ZW50Q29udGFpbmVyU3R5bGUgPSBbXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPT09IHRydWUgJiYgc3R5bGVzLmNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsLFxuICAgICAgdGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUsXG4gICAgXTtcbiAgICBpZiAoX19ERVZfXyAmJiB0aGlzLnByb3BzLnN0eWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpO1xuICAgICAgY29uc3QgY2hpbGRMYXlvdXRQcm9wcyA9IFsnYWxpZ25JdGVtcycsICdqdXN0aWZ5Q29udGVudCddLmZpbHRlcihcbiAgICAgICAgcHJvcCA9PiBzdHlsZSAmJiBzdHlsZVtwcm9wXSAhPT0gdW5kZWZpbmVkLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY2hpbGRMYXlvdXRQcm9wcy5sZW5ndGggPT09IDAsXG4gICAgICAgICdTY3JvbGxWaWV3IGNoaWxkIGxheW91dCAoJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hpbGRMYXlvdXRQcm9wcykgK1xuICAgICAgICAgICcpIG11c3QgYmUgYXBwbGllZCB0aHJvdWdoIHRoZSBjb250ZW50Q29udGFpbmVyU3R5bGUgcHJvcC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9IHt9O1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPSB7XG4gICAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVDb250ZW50T25MYXlvdXQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHtzdGlja3lIZWFkZXJJbmRpY2VzfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblxuICAgIGlmIChzdGlja3lIZWFkZXJJbmRpY2VzICE9IG51bGwgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcblxuICAgICAgY2hpbGRyZW4gPSBjaGlsZEFycmF5Lm1hcCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZJbmRleCA9IGNoaWxkID8gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KSA6IC0xO1xuICAgICAgICBpZiAoaW5kZXhPZkluZGV4ID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggKyAxXTtcbiAgICAgICAgICBjb25zdCBTdGlja3lIZWFkZXJDb21wb25lbnQgPVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5TdGlja3lIZWFkZXJDb21wb25lbnQgfHwgU2Nyb2xsVmlld1N0aWNreUhlYWRlcjtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFN0aWNreUhlYWRlckNvbXBvbmVudFxuICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4gdGhpcy5fc2V0U3RpY2t5SGVhZGVyUmVmKGtleSwgcmVmKX1cbiAgICAgICAgICAgICAgbmV4dEhlYWRlckxheW91dFk9e3RoaXMuX2hlYWRlckxheW91dFlzLmdldChcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChuZXh0SW5kZXgsIGNoaWxkQXJyYXkpLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBvbkxheW91dD17ZXZlbnQgPT4gdGhpcy5fb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXgsIGV2ZW50LCBrZXkpfVxuICAgICAgICAgICAgICBzY3JvbGxBbmltYXRlZFZhbHVlPXt0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfVxuICAgICAgICAgICAgICBpbnZlcnRlZD17dGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzfVxuICAgICAgICAgICAgICBzY3JvbGxWaWV3SGVpZ2h0PXt0aGlzLnN0YXRlLmxheW91dEhlaWdodH0+XG4gICAgICAgICAgICAgIHtjaGlsZH1cbiAgICAgICAgICAgIDwvU3RpY2t5SGVhZGVyQ29tcG9uZW50PlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGRyZW4gPSAoXG4gICAgICA8Q29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17XG4gICAgICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlXG4gICAgICAgICAgICA/IHN0YW5kYXJkSG9yaXpvbnRhbENvbnRleHRcbiAgICAgICAgICAgIDogc3RhbmRhcmRWZXJ0aWNhbENvbnRleHRcbiAgICAgICAgfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9Db250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG5cbiAgICBjb25zdCBoYXNTdGlja3lIZWFkZXJzID1cbiAgICAgIEFycmF5LmlzQXJyYXkoc3RpY2t5SGVhZGVySW5kaWNlcykgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5sZW5ndGggPiAwO1xuXG4gICAgY29uc3QgY29udGVudENvbnRhaW5lciA9IChcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExMi4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjExMiB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZVxuICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIDxTY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzXG4gICAgICAgIHsuLi5jb250ZW50U2l6ZUNoYW5nZVByb3BzfVxuICAgICAgICByZWY9e3RoaXMuX3NldElubmVyVmlld1JlZn1cbiAgICAgICAgc3R5bGU9e2NvbnRlbnRDb250YWluZXJTdHlsZX1cbiAgICAgICAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPXtcbiAgICAgICAgICAvLyBTdWJ2aWV3IGNsaXBwaW5nIGNhdXNlcyBpc3N1ZXMgd2l0aCBzdGlja3kgaGVhZGVycyBvbiBBbmRyb2lkIGFuZFxuICAgICAgICAgIC8vIHdvdWxkIGJlIGhhcmQgdG8gZml4IHByb3Blcmx5IGluIGEgcGVyZm9ybWFudCB3YXkuXG4gICAgICAgICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyAmJiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICA6IHRoaXMucHJvcHMucmVtb3ZlQ2xpcHBlZFN1YnZpZXdzXG4gICAgICAgIH1cbiAgICAgICAgY29sbGFwc2FibGU9e2ZhbHNlfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9TY3JvbGxDb250ZW50Q29udGFpbmVyVmlld0NsYXNzPlxuICAgICk7XG5cbiAgICBjb25zdCBhbHdheXNCb3VuY2VIb3Jpem9udGFsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VIb3Jpem9udGFsXG4gICAgICAgIDogdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlVmVydGljYWwgPVxuICAgICAgdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5hbHdheXNCb3VuY2VWZXJ0aWNhbFxuICAgICAgICA6ICF0aGlzLnByb3BzLmhvcml6b250YWw7XG5cbiAgICBjb25zdCBERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXMgPSAhIXRoaXMucHJvcHNcbiAgICAgIC5ERVBSRUNBVEVEX3NlbmRVcGRhdGVkQ2hpbGRGcmFtZXM7XG5cbiAgICBjb25zdCBiYXNlU3R5bGUgPVxuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlXG4gICAgICAgID8gc3R5bGVzLmJhc2VIb3Jpem9udGFsXG4gICAgICAgIDogc3R5bGVzLmJhc2VWZXJ0aWNhbDtcbiAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBhbHdheXNCb3VuY2VIb3Jpem9udGFsLFxuICAgICAgYWx3YXlzQm91bmNlVmVydGljYWwsXG4gICAgICBzdHlsZTogW2Jhc2VTdHlsZSwgdGhpcy5wcm9wcy5zdHlsZV0sXG4gICAgICAvLyBPdmVycmlkZSB0aGUgb25Db250ZW50U2l6ZUNoYW5nZSBmcm9tIHByb3BzLCBzaW5jZSB0aGlzIGV2ZW50IGNhblxuICAgICAgLy8gYnViYmxlIHVwIGZyb20gVGV4dElucHV0c1xuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogbnVsbCxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVMYXlvdXQsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlckdyYW50LFxuICAgICAgb25SZXNwb25kZXJSZWplY3Q6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlUmVzcG9uZGVyUmVqZWN0LFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGlvblJlcXVlc3QsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxFbmREcmFnLFxuICAgICAgb25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6IHRoaXMuX3Njcm9sbFJlc3BvbmRlclxuICAgICAgICAuc2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5fc2Nyb2xsUmVzcG9uZGVyXG4gICAgICAgIC5zY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiB0aGlzLl9zY3JvbGxSZXNwb25kZXJcbiAgICAgICAgLnNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSxcbiAgICAgIG9uVG91Y2hFbmQ6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaEVuZCxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLl9zY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hTdGFydCxcbiAgICAgIG9uVG91Y2hDYW5jZWw6IHRoaXMuX3Njcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaENhbmNlbCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9oYW5kbGVTY3JvbGwsXG4gICAgICBzY3JvbGxCYXJUaHVtYkltYWdlOiByZXNvbHZlQXNzZXRTb3VyY2UodGhpcy5wcm9wcy5zY3JvbGxCYXJUaHVtYkltYWdlKSxcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IGhhc1N0aWNreUhlYWRlcnNcbiAgICAgICAgPyAxXG4gICAgICAgIDogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgc2VuZE1vbWVudHVtRXZlbnRzOlxuICAgICAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiB8fCB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmRcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IGZhbHNlLFxuICAgICAgREVQUkVDQVRFRF9zZW5kVXBkYXRlZENoaWxkRnJhbWVzLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9TdGFydDogdGhpcy5wcm9wcy5zbmFwVG9TdGFydCAhPT0gZmFsc2UsXG4gICAgICAvLyBkZWZhdWx0IHRvIHRydWVcbiAgICAgIHNuYXBUb0VuZDogdGhpcy5wcm9wcy5zbmFwVG9FbmQgIT09IGZhbHNlLFxuICAgICAgLy8gcGFnaW5nRW5hYmxlZCBpcyBvdmVycmlkZGVuIGJ5IHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0c1xuICAgICAgcGFnaW5nRW5hYmxlZDogUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgLy8gb24gaU9TLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIGZhbHNlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgaW9zOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgPT0gbnVsbCAmJlxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyA9PSBudWxsLFxuICAgICAgICAvLyBvbiBBbmRyb2lkLCBwYWdpbmdFbmFibGVkIG11c3QgYmUgc2V0IHRvIHRydWUgdG8gaGF2ZSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHMgd29ya1xuICAgICAgICBhbmRyb2lkOlxuICAgICAgICAgIHRoaXMucHJvcHMucGFnaW5nRW5hYmxlZCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvSW50ZXJ2YWwgIT0gbnVsbCB8fFxuICAgICAgICAgIHRoaXMucHJvcHMuc25hcFRvT2Zmc2V0cyAhPSBudWxsLFxuICAgICAgfSksXG4gICAgfTtcblxuICAgIGNvbnN0IHtkZWNlbGVyYXRpb25SYXRlfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRlY2VsZXJhdGlvblJhdGUgIT0gbnVsbCkge1xuICAgICAgcHJvcHMuZGVjZWxlcmF0aW9uUmF0ZSA9IHByb2Nlc3NEZWNlbGVyYXRpb25SYXRlKGRlY2VsZXJhdGlvblJhdGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlZnJlc2hDb250cm9sID0gdGhpcy5wcm9wcy5yZWZyZXNoQ29udHJvbDtcblxuICAgIGlmIChyZWZyZXNoQ29udHJvbCkge1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICAgICAgICAvLyBPbiBpT1MgdGhlIFJlZnJlc2hDb250cm9sIGlzIGEgY2hpbGQgb2YgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIC8vIHR2T1MgbGFja3MgbmF0aXZlIHN1cHBvcnQgZm9yIFJlZnJlc2hDb250cm9sLCBzbyBkb24ndCBpbmNsdWRlIGl0IGluIHRoYXQgY2FzZVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxTY3JvbGxWaWV3Q2xhc3Mgey4uLnByb3BzfSByZWY9e3RoaXMuX3NldFNjcm9sbFZpZXdSZWZ9PlxuICAgICAgICAgICAge1BsYXRmb3JtLmlzVFYgPyBudWxsIDogcmVmcmVzaENvbnRyb2x9XG4gICAgICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgICAgICA8L1Njcm9sbFZpZXdDbGFzcz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJykge1xuICAgICAgICAvLyBPbiBBbmRyb2lkIHdyYXAgdGhlIFNjcm9sbFZpZXcgd2l0aCBhIEFuZHJvaWRTd2lwZVJlZnJlc2hMYXlvdXQuXG4gICAgICAgIC8vIFNpbmNlIHRoZSBTY3JvbGxWaWV3IGlzIHdyYXBwZWQgYWRkIHRoZSBzdHlsZSBwcm9wcyB0byB0aGVcbiAgICAgICAgLy8gQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dCBhbmQgdXNlIGZsZXg6IDEgZm9yIHRoZSBTY3JvbGxWaWV3LlxuICAgICAgICAvLyBOb3RlOiB3ZSBzaG91bGQgc3BsaXQgcHJvcHMuc3R5bGUgb24gdGhlIGlubmVyIGFuZCBvdXRlciBwcm9wc1xuICAgICAgICAvLyBob3dldmVyLCB0aGUgU2Nyb2xsVmlldyBzdGlsbCBuZWVkcyB0aGUgYmFzZVN0eWxlIHRvIGJlIHNjcm9sbGFibGVcbiAgICAgICAgY29uc3Qge291dGVyLCBpbm5lcn0gPSBzcGxpdExheW91dFByb3BzKGZsYXR0ZW5TdHlsZShwcm9wcy5zdHlsZSkpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIHJlZnJlc2hDb250cm9sLFxuICAgICAgICAgIHtzdHlsZTogW2Jhc2VTdHlsZSwgb3V0ZXJdfSxcbiAgICAgICAgICA8U2Nyb2xsVmlld0NsYXNzXG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICBzdHlsZT17W2Jhc2VTdHlsZSwgaW5uZXJdfVxuICAgICAgICAgICAgcmVmPXt0aGlzLl9zZXRTY3JvbGxWaWV3UmVmfT5cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvU2Nyb2xsVmlld0NsYXNzPixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxTY3JvbGxWaWV3Q2xhc3Mgey4uLnByb3BzfSByZWY9e3RoaXMuX3NldFNjcm9sbFZpZXdSZWZ9PlxuICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgIDwvU2Nyb2xsVmlld0NsYXNzPlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBiYXNlVmVydGljYWw6IHtcbiAgICBmbGV4R3JvdzogMSxcbiAgICBmbGV4U2hyaW5rOiAxLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgfSxcbiAgYmFzZUhvcml6b250YWw6IHtcbiAgICBmbGV4R3JvdzogMSxcbiAgICBmbGV4U2hyaW5rOiAxLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgfSxcbiAgY29udGVudENvbnRhaW5lckhvcml6b250YWw6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNjcm9sbFZpZXc7XG4iXX0=